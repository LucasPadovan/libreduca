<%= simple_form_for(@image) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.input :name, input_html: { autofocus: true, maxlength: 255 } %>
    <%= f.input :file, hint: image_file_identifier(@image), input_html: {
      data: {
        'fileupload' => true,
        'fileupload-types' => ['jpg', 'jpeg', 'png', 'gif'].to_json,
        'fileupload-autosubmit' => true,
        'fileupload-error-message' => '#image-file-error'
      }
    } %>
  </div>

  <div id="image-file-error" class="alert alert-error hide fade in">
    <%= t('view.images.file_type_error') %>
  </div>

  <div class="form-actions">
    <div class="pull-right"><%= yield :form_actions %></div>
    <%= f.input :file_cache, as: :hidden %>
    <%= f.input :lock_version, as: :hidden %>
    <%= f.button :submit, class: 'btn btn-primary' %>
  </div>
<% end %>

<script id="template-upload" type="text/x-tmpl">
  <div class="upload">
    <h5>{%=o.name%}</h5>
    <div class="progress progress-striped active">
      <div class="bar" style="width: 0%"></div>
    </div>
  </div>
</script>
